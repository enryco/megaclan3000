<script>
	var data = [
		{
			name: 'Galil AR',
			accuracy: Math.round({{.UserStatsForGame.Stats.TotalHitsGalilar}}/{{.UserStatsForGame.Stats.TotalShotsGalilar}} * 10000) / 100
		},
		{
			name: '	MAG-7',
			accuracy: Math.round({{.UserStatsForGame.Stats.TotalHitsMag7}}/{{.UserStatsForGame.Stats.TotalShotsMag7}} * 10000) / 100
		},		
		{
			name: 'Tec-9',
			accuracy: Math.round({{.UserStatsForGame.Stats.TotalHitsTec9}}/{{.UserStatsForGame.Stats.TotalShotsTec9}} * 10000) / 100
		},		
		{
			name: 'PP-Bizon',
			accuracy: Math.round({{.UserStatsForGame.Stats.TotalHitsBizon}}/{{.UserStatsForGame.Stats.TotalShotsBizon}} * 10000) / 100
		},		
		{
			name: 'Sawed-Off',
			accuracy: Math.round({{.UserStatsForGame.Stats.TotalHitsSawedoff}}/{{.UserStatsForGame.Stats.TotalShotsSawedoff}} * 10000) / 100
		}
		// TODO: Add all weapons
	];

var dataAxis = data.sort((a, b) => b.accuracy - a.accuracy).map(e => e.name)

</script>
<div id="container-weapons" style="width: 100%; height: 300px;"></div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js" ></script>
<script charset="utf-8">
var chartWeapons = document.getElementById("container-weapons");
var myChartWeapons = echarts.init(chartWeapons);
var app = {};
optionChartWeapons = null;
optionChartWeapons = {
    xAxis: {
        data: dataAxis,
		type: 'category',
		axisLabel: {
			interval: 0,
			rotate: 45
		}
    },
    yAxis: {
        type: 'value'
    },
    series: [{
		name: 'Weapons',
		type: 'bar',
		data: data.map(e => e.accuracy)
	}]
};


if (optionChartWeapons && typeof optionChartWeapons === "object") {
    myChartWeapons.setOption(optionChartWeapons, true);
}
$(window).resize(function() {
	myChartWeapons.resize();
});
</script>